<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tebak-Tebakan — Mainkan!</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --glass: rgba(255,255,255,0.06);
      --glass-2: rgba(255,255,255,0.08);
      --accent: rgba(255,255,255,0.95);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;
      color:var(--accent);display:grid;place-items:center;min-height:100vh;overflow:hidden;
      background:linear-gradient(120deg,#0f2027 0%, #203a43 50%, #2c5364 100%);
    }

    /* animated gradient overlay */
    .bg-animated{
      position:fixed;inset:-20%;z-index:0;filter:blur(40px);opacity:0.9;
      background: conic-gradient(from 180deg at 50% 50%, rgba(255,65,108,0.12), rgba(255,195,113,0.09), rgba(77,208,225,0.08), rgba(165,105,189,0.1));
      transform: rotate(0deg);
      animation: spin 18s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* floating blobs */
    .blob{position:fixed;border-radius:50%;filter:blur(30px);opacity:0.6;mix-blend-mode:screen}
    .blob.a{width:480px;height:480px;background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.12), rgba(255,0,150,0.06));left:-120px;top:-80px;animation: floatA 12s ease-in-out infinite}
    .blob.b{width:420px;height:420px;background:radial-gradient(circle at 70% 70%, rgba(255,255,255,0.09), rgba(0,200,255,0.04));right:-100px;bottom:-90px;animation: floatB 14s ease-in-out infinite}
    @keyframes floatA{0%{transform:translateY(0)}50%{transform:translateY(30px)}100%{transform:translateY(0)}}
    @keyframes floatB{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-30px) rotate(6deg)}100%{transform:translateY(0) rotate(0)}}

    /* main card */
    .card{
      position:relative;z-index:10;width:min(760px,94vw);padding:28px;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));box-shadow:0 10px 40px rgba(2,6,23,0.7);backdrop-filter: blur(6px);
      border:1px solid rgba(255,255,255,0.04);
    }
    .header{display:flex;align-items:center;gap:16px}
    .logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,#ff5f6d,#ffc371);display:grid;place-items:center;font-weight:800;color:#012;box-shadow:0 6px 20px rgba(0,0,0,0.35)}
    h1{margin:0;font-size:20px}
    p.lead{margin:6px 0 0 0;color:rgba(255,255,255,0.9);opacity:0.95}

    .game{display:grid;grid-template-columns:1fr 320px;gap:20px;margin-top:20px}
    @media (max-width:880px){.game{grid-template-columns:1fr}}

    .play-area{padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));border:1px solid rgba(255,255,255,0.03)}
    .riddle{font-size:18px;line-height:1.4}

    .controls{margin-top:14px;display:flex;gap:8px;flex-wrap:wrap}
    input[type=text]{flex:1;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:rgba(0,0,0,0.25);color:var(--accent);outline:none}
    button{padding:10px 12px;border-radius:10px;border:none;background:linear-gradient(90deg,#667eea,#764ba2);color:white;font-weight:600;cursor:pointer}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}

    .sidebar{padding:16px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);height:100%}
    .stat{display:flex;justify-content:space-between;padding:8px 0;color:rgba(255,255,255,0.9)}

    .hint{margin-top:12px;color:#ffd;opacity:0.95}
    .message{margin-top:12px;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.03)}

    .footer{margin-top:14px;text-align:center;color:rgba(255,255,255,0.6);font-size:13px}

    /* confetti canvas top */
    #confettiCanvas{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:15}
  </style>
</head>
<body>
  <div class="bg-animated"></div>
  <div class="blob a"></div>
  <div class="blob b"></div>

  <div class="card">
    <div class="header">
      <div class="logo">TT</div>
      <div>
        <h1>Tebak-Tebakan Seru</h1>
        <p class="lead">Tantang otakmu dengan teka-teki singkat — ketik jawaban dan tekan 'Jawab'!</p>
      </div>
    </div>

    <div class="game">
      <div class="play-area">
        <div class="riddle" id="riddleText">Memuat teka-teki...</div>

        <div class="controls">
          <input id="answerInput" type="text" placeholder="Ketik jawabanmu di sini (bebas huruf besar/kecil)..." autocomplete="off" />
          <button id="checkBtn">Jawab</button>
          <button id="hintBtn" class="ghost">Minta Petunjuk</button>
          <button id="nextBtn" class="ghost">Lewati</button>
        </div>

        <div id="feedback" class="message" style="display:none"></div>
        <div id="hintText" class="hint" style="display:none"></div>
      </div>

      <div class="sidebar">
        <div class="stat"><strong>Skor</strong><span id="score">0</span></div>
        <div class="stat"><strong>Benar</strong><span id="wins">0</span></div>
        <div class="stat"><strong>Salah</strong><span id="fails">0</span></div>
        <div class="stat"><strong>Level</strong><span id="level">Mudah</span></div>

        <hr style="margin:10px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">
        <div style="font-size:13px;color:rgba(255,255,255,0.8)">Petunjuk: tiap petunjuk mengungkapkan satu huruf dari jawaban. Menang = +10 poin, Salah = -2 poin.</div>

        <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
          <button id="easy" class="ghost">Mudah</button>
          <button id="med" class="ghost">Sedang</button>
          <button id="hard" class="ghost">Sulit</button>
        </div>
      </div>
    </div>

    <div class="footer">Simpan halaman ini, bagikan ke teman — selamat bermain!</div>
  </div>

  <canvas id="confettiCanvas"></canvas>

  <script>
    const riddles = [
      {q: 'Benda apa yang selalu datang tapi tidak pernah tiba?', a: 'besok'},
      {q: 'Saya memiliki kunci tapi tidak pernah membuka pintu, saya memiliki ruang tapi tidak pernah tidur. Siapakah saya?', a: 'keyboard'},
      {q: 'Ada 30 ekor kambing di lapangan, 10 meninggal, berapa kambing yang tersisa?', a: '20'},
      {q: 'Apa yang bisa kamu tangkap tapi tidak bisa kamu lempar?', a: 'pilek'},
      {q: 'Malam bertopeng, siang tanpa wajah, apakah itu?', a: 'bayangan'},
      {q: 'Saya punya ekor tapi tidak punya tubuh. Saya punya kepala tapi bukan manusia. Siapakah saya?', a: 'koin'},
      {q: 'Benda apa yang semakin lama semakin hitam ketika digunakan?', a: 'papan tulis'},
      {q: 'Apa yang punya banyak kunci tapi tidak ada pintu?', a: 'piano'},
      {q: 'Saya naik tanpa bergerak, apa saya?', a: 'tangga'},
      {q: 'Benda apa yang berjalan tanpa kaki?', a: 'jam'},
    ];

    let pool = [...riddles];
    let current = null;
    let score = 0, wins = 0, fails = 0;
    let difficulty = 'Mudah';

    const riddleText = document.getElementById('riddleText');
    const answerInput = document.getElementById('answerInput');
    const checkBtn = document.getElementById('checkBtn');
    const hintBtn = document.getElementById('hintBtn');
    const nextBtn = document.getElementById('nextBtn');
    const feedback = document.getElementById('feedback');
    const hintText = document.getElementById('hintText');
    const scoreEl = document.getElementById('score');
    const winsEl = document.getElementById('wins');
    const failsEl = document.getElementById('fails');
    const levelEl = document.getElementById('level');

    function pickRiddle(){
      if(pool.length === 0) pool = [...riddles];
      const idx = Math.floor(Math.random()*pool.length);
      current = JSON.parse(JSON.stringify(pool[idx]));
      // remove to avoid immediate repeat
      pool.splice(idx,1);
      riddleText.textContent = current.q;
      answerInput.value = '';
      feedback.style.display='none';
      hintText.style.display='none';
      answerInput.focus();
    }

    function normalize(s){
      return s.toString().trim().toLowerCase().replace(/[\u0300-\u036f]/g,'');
    }

    function checkAnswer(){
      const guess = normalize(answerInput.value);
      if(!guess){shake(answerInput);return}
      const correct = normalize(current.a);
      if(guess === correct){
        wins++; score += 10; showFeedback(true,'Jawaban benar! +10 poin');
        confettiBurst();
        pickRiddle();
      } else {
        fails++; score = Math.max(0,score-2); showFeedback(false,'Salah — coba lagi atau minta petunjuk. (-2 poin)');
      }
      updateStats();
    }

    function showFeedback(ok, text){
      feedback.style.display='block';
      feedback.textContent = text;
      feedback.style.borderColor = ok ? 'rgba(120,255,180,0.08)' : 'rgba(255,120,120,0.06)';
    }

    function updateStats(){
      scoreEl.textContent = score;
      winsEl.textContent = wins;
      failsEl.textContent = fails;
      levelEl.textContent = difficulty;
    }

    function hint(){
      // reveal one letter from answer
      const ans = current.a;
      const normalized = normalize(ans);
      const visible = hintText.dataset.visible || ''.padEnd(normalized.length,'_');
      let arr = visible.split('');
      // pick hidden position
      const hiddenIdxs = [];
      for(let i=0;i<normalized.length;i++){
        if(normalized[i] === ' ') { arr[i] = ' ' ; continue }
        if(arr[i] === '_') hiddenIdxs.push(i);
      }
      if(hiddenIdxs.length === 0){ hintText.textContent = 'Semua huruf sudah terlihat.'; return }
      const pick = hiddenIdxs[Math.floor(Math.random()*hiddenIdxs.length)];
      arr[pick] = ans[pick];
      hintText.dataset.visible = arr.join('');
      hintText.style.display='block';
      hintText.textContent = 'Petunjuk: ' + arr.join('');
      score = Math.max(0, score - 1);
      updateStats();
    }

    // UI helpers
    function shake(el){
      el.animate([{transform:'translateX(0)'},{transform:'translateX(-8px)'},{transform:'translateX(8px)'},{transform:'translateX(0)'}],{duration:300})
    }

    // difficulty buttons
    document.getElementById('easy').addEventListener('click', ()=>{difficulty='Mudah'; pool = [...riddles]; updateStats(); pickRiddle()});
    document.getElementById('med').addEventListener('click', ()=>{difficulty='Sedang'; pool = [...riddles].filter((_,i)=>i%2===0); updateStats(); pickRiddle()});
    document.getElementById('hard').addEventListener('click', ()=>{difficulty='Sulit'; pool = [...riddles].filter((_,i)=>i%3===0); updateStats(); pickRiddle()});

    checkBtn.addEventListener('click', checkAnswer);
    answerInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') checkAnswer() });
    hintBtn.addEventListener('click', hint);
    nextBtn.addEventListener('click', ()=>{pickRiddle(); score = Math.max(0, score-1); updateStats();});

    // confetti (lightweight) ------------------------------------------------
    const canvas = document.getElementById('confettiCanvas');
    const ctx = canvas.getContext('2d');
    let confettiPieces = [];
    function resizeCanvas(){ canvas.width = window.innerWidth; canvas.height = window.innerHeight }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function confettiBurst(){
      const count = 40;
      for(let i=0;i<count;i++){
        confettiPieces.push({x:window.innerWidth/2 + (Math.random()-0.5)*200, y:window.innerHeight/3 + (Math.random()-0.5)*100, vx:(Math.random()-0.5)*6, vy:Math.random()*-6-2, life:Math.random()*80+60, size:Math.random()*6+4, rot:Math.random()*360, vr:(Math.random()-0.5)*6, color:randomColor()});
      }
      if(!isAnimating) animateConfetti();
    }
    function randomColor(){ const cols=['#ff5f6d','#ffc371','#7ee8fa','#b388ff','#ffd36e']; return cols[Math.floor(Math.random()*cols.length)] }

    let isAnimating=false;
    function animateConfetti(){ isAnimating=true; (function frame(){ ctx.clearRect(0,0,canvas.width,canvas.height); for(let i=confettiPieces.length-1;i>=0;i--){ const p=confettiPieces[i]; p.x+=p.vx; p.y+=p.vy; p.vy+=0.18; p.vr+=0.02; p.rot+=p.vr; p.life--; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot*Math.PI/180); ctx.fillStyle=p.color; ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size*0.6); ctx.restore(); if(p.life<=0 || p.y>canvas.height+50) confettiPieces.splice(i,1); } if(confettiPieces.length>0) requestAnimationFrame(frame); else isAnimating=false })(); }

    // init
    updateStats(); pickRiddle();
  </script>
</body>
</html>